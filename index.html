<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Last Million | Ø§Ù„Ø¹Ø±ÙŠÙ† Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ</title>
    <style>
        :root { --gold: #d4af37; --forest: #050a05; --up: #00ff88; --down: #ff4444; }
        body { margin: 0; background: var(--forest); color: white; font-family: 'Cairo', sans-serif; overflow: hidden; transition: background 0.5s; }
        .page { display: none; height: 100vh; padding: 15px; box-sizing: border-box; overflow-y: auto; padding-bottom: 100px; }
        .page.active { display: block; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø© */
        .header-stats { background: rgba(0,0,0,0.9); padding: 10px; border-bottom: 2px solid var(--gold); display: flex; justify-content: space-around; font-size: 14px; position: sticky; top: 0; z-index: 1000; }

        /* Ø§Ù„Ø¹Ø±Ø´ ÙˆØ§Ù„Ø·Ø§Ù‚Ø© */
        .lion-box { width: 180px; height: 180px; margin: 20px auto; border-radius: 50%; border: 4px solid var(--gold); box-shadow: 0 0 20px var(--gold); overflow: hidden; position: relative; }
        .energy-bar { width: 80%; height: 8px; background: #222; margin: 10px auto; border-radius: 4px; overflow: hidden; }
        #energy-fill { width: 100%; height: 100%; background: var(--gold); transition: 0.3s; }

        /* Ø§Ù„Ø£Ø­Ø¯Ø§Ø« (Ø§Ù„Ø¶Ø¨Ø§Ø¹ ÙˆØ§Ù„Ø®Ø³ÙˆÙ) */
        .hyena { position: fixed; font-size: 50px; z-index: 5000; cursor: pointer; animation: move 2s infinite alternate; }
        @keyframes move { from { transform: translateX(0); } to { transform: translateX(20px); } }
        body.eclipse { background: #2d1b00 !important; animation: pulse 2s infinite; }
        @keyframes pulse { 50% { box-shadow: inset 0 0 100px var(--gold); } }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„ØªÙ†Ù‚Ù„ */
        .btn-action { background: var(--gold); border: none; padding: 10px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #000; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid var(--gold); z-index: 1000; }
        .nav-item { font-size: 11px; color: #555; text-align: center; flex: 1; cursor: pointer; }
        .nav-item.active { color: var(--gold); }

        .item-card { background: #111; border: 1px solid #333; border-radius: 12px; padding: 15px; margin-bottom: 10px; border-right: 4px solid var(--gold); }
    </style>
</head>
<body id="main-body">

    <div id="event-alert" style="position:fixed; top:60px; width:100%; text-align:center; z-index:6000; font-weight:bold; display:none; background:rgba(0,0,0,0.8); padding:10px;"></div>

    <div class="header-stats">
        <div>ğŸ’° $LAST: <span id="balance">0.00</span></div>
        <div>âœ¨ ØºØ¨Ø§Ø±: <span id="dust">0</span></div>
        <div id="price-display" style="color:var(--up)">$1.00</div>
    </div>

    <div id="throne-page" class="page active">
        <div style="text-align: center;">
            <div id="mult-tag" style="color:var(--gold); visibility:hidden;">Ø·Ø§Ù‚Ø© Ø§Ù„Ø®Ø³ÙˆÙ x10 ğŸ”¥</div>
            <div class="lion-box" onclick="manualMine(event)">
                <img src="1769632844655.png" style="width:100%; height:100%; object-fit:cover;">
            </div>
            <div class="energy-bar"><div id="energy-fill"></div></div>
            <small id="energy-text">Ø§Ù„Ø·Ø§Ù‚Ø©: 100%</small>
            <p style="font-size:12px; color:#666; margin-top:20px;">Ø§Ù†Ù‚Ø± Ù„Ø´Ø­Ù† Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„ÙŠØ¯ÙˆÙŠ</p>
        </div>
    </div>

    <div id="hunt-page" class="page">
        <h3 style="color:var(--gold); text-align:center;">Ù…ÙˆØ³Ù… Ø§Ù„ØµÙŠØ¯ ğŸ¹</h3>
        <div id="forest-area" style="height:60vh; border:1px dashed #333; position:relative;"></div>
    </div>

    <div id="trade-page" class="page">
        <h3 style="color:var(--gold); text-align:center;">Ø§Ù„Ø¨ÙˆØ±ØµØ© ğŸ“ˆ</h3>
        <div style="background:#111; height:120px; border:1px solid #333; margin-bottom:20px; position:relative; overflow:hidden;">
            <div id="chart-line" style="position:absolute; bottom:50%; width:100%; height:2px; background:var(--up); transition:0.5s;"></div>
        </div>
        <button class="btn-action" style="background:var(--up)" onclick="trade('up')">ØªÙˆÙ‚Ø¹ ØµØ¹ÙˆØ¯</button>
        <button class="btn-action" style="background:var(--down)" onclick="trade('down')">ØªÙˆÙ‚Ø¹ Ù‡Ø¨ÙˆØ·</button>
    </div>

    <div id="extra-page" class="page">
        <div class="item-card">
            <div style="color:var(--gold)">ğŸ“ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø­Ø±ÙŠØ©</div>
            <p style="font-size:12px;">ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªØ¬Ø¹Ù„ $LAST ØªØªØ®Ø·Ù‰ Ø§Ù„Ù€ $1.</p>
            <button class="btn-action" onclick="this.innerText='ØªÙ… âœ…'; balance+=10; updateUI();">Ø§Ø±Ø¨Ø­ 10 $</button>
        </div>
        <div class="item-card">
            <div style="color:var(--gold)">ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ø¹Ø±ÙŠÙ†</div>
            <p style="font-size:12px;">Ø³ÙŠØ§Ø¬ Ø­Ù…Ø§ÙŠØ© Ø¶Ø¯ Ø§Ù„Ø¶Ø¨Ø§Ø¹</p>
            <button class="btn-action" onclick="buyFence()">Ø´Ø±Ø§Ø¡ Ø¨Ù€ 30 ØºØ¨Ø§Ø±</button>
        </div>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" onclick="showPage('throne-page')">ğŸ›ï¸<br>Ø§Ù„Ø¹Ø±Ø´</div>
        <div class="nav-item" onclick="showPage('hunt-page'); startHunt();">ğŸ¹<br>Ø§Ù„ØµÙŠØ¯</div>
        <div class="nav-item" onclick="showPage('trade-page')">ğŸ“ˆ<br>ØªØ¯Ø§ÙˆÙ„</div>
        <div class="nav-item" onclick="showPage('extra-page')">ğŸ°<br>Ø§Ù„Ù…Ø²ÙŠØ¯</div>
    </div>

    <script>
        let balance = 0, dust = 0, energy = 100, multiplier = 1, hasFence = false, huntActive = false;

        // Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        setInterval(() => {
            if(energy > 0) {
                balance += (0.01 * multiplier);
                energy -= 0.1;
                updateUI();
            }
        }, 1000);

        // Ù…Ø­Ø±Ùƒ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©)
        setInterval(() => {
            let r = Math.random();
            if(r < 0.1) triggerEclipse();
            else if(r < 0.25) triggerHyena();
        }, 30000);

        function triggerEclipse() {
            multiplier = 10;
            document.body.classList.add('eclipse');
            document.getElementById('mult-tag').style.visibility = 'visible';
            alertMsg("âš ï¸ Ø®Ø³ÙˆÙ Ø°Ù‡Ø¨ÙŠ! Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ x10!", "var(--gold)");
            setTimeout(() => {
                multiplier = 1;
                document.body.classList.remove('eclipse');
                document.getElementById('mult-tag').style.visibility = 'hidden';
            }, 15000);
        }

        function triggerHyena() {
            if(hasFence) { alertMsg("ğŸ›¡ï¸ Ø§Ù„Ø³ÙŠØ§Ø¬ Ø·Ø±Ø¯ Ø§Ù„Ø¶Ø¨Ø§Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!", "var(--up)"); return; }
            alertMsg("ğŸº Ù‡Ø¬ÙˆÙ… Ø¶Ø¨Ø§Ø¹! Ø§Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡ Ø¨Ø³Ø±Ø¹Ø©!", "red");
            let h = document.createElement('div');
            h.className = 'hyena'; h.innerText = "ğŸº";
            h.style.left = Math.random()*80+"%"; h.style.top = Math.random()*80+"%";
            document.body.appendChild(h);
            let caught = false;
            h.onclick = () => { caught = true; h.remove(); alertMsg("âœ… ØªÙ… Ø³Ø­Ù‚ Ø§Ù„Ø¶Ø¨Ø¹!", "var(--up)"); };
            setTimeout(() => { if(!caught) { balance -= 2; h.remove(); alertMsg("âŒ Ø§Ù„Ø¶Ø¨Ø¹ Ø³Ø±Ù‚ 2 $LAST", "red"); updateUI(); } }, 5000);
        }

        function manualMine(e) {
            balance += (0.05 * multiplier);
            if(energy < 100) energy += 2;
            updateUI();
            createEffect(e.pageX, e.pageY, "+"+(0.05*multiplier).toFixed(2), "var(--gold)");
        }

        function startHunt() {
            const area = document.getElementById('forest-area');
            if(area.childElementCount > 0) return;
            setInterval(() => {
                if(huntActive) {
                    let d = document.createElement('div');
                    d.innerText = "ğŸ¦Œ"; d.style.position="absolute";
                    d.style.left=Math.random()*90+"%"; d.style.top=Math.random()*90+"%";
                    d.onclick = () => { dust += 1; updateUI(); d.remove(); };
                    area.appendChild(d);
                    setTimeout(() => d.remove(), 2000);
                }
            }, 2000);
        }

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
            huntActive = (id === 'hunt-page');
        }

        function buyFence() {
            if(dust >= 30) { dust -= 30; hasFence = true; alert("ØªÙ… ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø¹Ø±ÙŠÙ† Ø¨Ø§Ù„Ø³ÙŠØ§Ø¬!"); updateUI(); }
            else alert("ØªØ­ØªØ§Ø¬ Ù„ØºØ¨Ø§Ø± Ø£ÙƒØ«Ø±!");
        }

        function updateUI() {
            document.getElementById('balance').innerText = balance.toFixed(2);
            document.getElementById('dust').innerText = dust;
            document.getElementById('energy-fill').style.width = energy + "%";
        }

        function alertMsg(m, c) {
            let a = document.getElementById('event-alert');
            a.innerText = m; a.style.color = c; a.style.display = 'block';
            setTimeout(() => a.style.display = 'none', 3000);
        }

        function createEffect(x, y, t, c) {
            let e = document.createElement('div');
            e.innerText = t; e.style.position='fixed'; e.style.left=x+'px'; e.style.top=y+'px'; e.style.color=c;
            document.body.appendChild(e);
            e.animate([{opacity:1, transform:'translateY(0)'}, {opacity:0, transform:'translateY(-100px)'}], 1000).onfinish=()=>e.remove();
        }
    </script>
</body>
</html>
